{
  "services": {
    "nginx": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=NGINX Service\nAfter=network.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f nginx-service-backend\nExecStart=/usr/bin/podman run --name nginx-service-backend -p 8080:80 {{.ImageName}}\nExecStop=/usr/bin/podman stop -t 10 nginx-service-backend\nExecStopPost=/usr/bin/podman rm -f nginx-service-backend\nRestart=always\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": false
    },
    "cups": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=CUPS Scheduler\nAfter=network.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f cups-service-backend\nExecStart=/usr/bin/podman run --name cups-service-backend -p 631:631 {{.ImageName}}\nExecStop=/usr/bin/podman stop -t 10 cups-service-backend\nExecStopPost=/usr/bin/podman rm -f cups-service-backend\nRestart=always\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": false
    },
    "cron": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=Cron Service\nAfter=remote-fs.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f cron-service-backend\nExecStart=/usr/bin/podman run --name cron-service-backend -v /etc/cron.daily:/etc/cron.daily -v /etc/cron.weekly:/etc/cron.weekly -v /etc/cron.monthly:/etc/cron.monthly {{.ImageName}}\nExecStop=/usr/bin/podman stop -t 10 cron-service-backend\nExecStopPost=/usr/bin/podman rm -f cron-service-backend\nRestart=always\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": false
    },
    "packagekit": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=PackageKit Daemon\nConditionPathExists=!/run/ostree-booted\nWants=network-online.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f packagekit-service-backend\nType=dbus\nExecStart=/usr/bin/podman run --name packagekit-service-backend --privileged --ipc=host --net=host --pid=host -e HOST=/host -v /run:/run -v /var/log:/var/log -v /etc/localtime:/etc/localtime -v /:/host -v /run/dbus/system_bus_socket:/run/dbus/system_bus_socket -v /tmp:/tmp -v /etc/apt:/etc/apt:ro -v /var/lib/apt:/var/lib/apt:ro -v /var/cache/apt:/var/cache/apt --user root:root {{.ImageName}}\nExecStop=/usr/bin/podman stop -t 10 packagekit-service-backend\nExecStopPost=/usr/bin/podman rm -f packagekit-service-backend\nRestart=always\nBusName=org.freedesktop.PackageKit\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": true
    },
    "wpa_supplicant": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=Containerized WPA Supplicant Service\nRequires=dbus.service\nAfter=network-pre.target dbus.service\nBefore=network.target shutdown.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f wpa_supplicant-service-backend\nType=dbus\nBusName=fi.w1.wpa_supplicant1\nExecStart=/usr/bin/podman run -it --name wpa_supplicant-service-backend --privileged \\\n  --cap-add=NET_ADMIN \\\n  --cap-add=NET_RAW \\\n  --device /dev/net/tun --network=host --pid=host --ipc=host \\\n  -v /run/dbus/system_bus_socket:/run/dbus/system_bus_socket \\\n  -v /etc/wpa_supplicant:/etc/wpa_supplicant:ro \\\n  -v /run/wpa_supplicant:/run/wpa_supplicant \\\n  --user root:netdev {{.ImageName}}\nExecReload=/bin/kill -HUP $MAINPID\nExecStop=/usr/bin/podman stop wpa_supplicant-service-backend\nExecStopPost=/usr/bin/podman rm wpa_supplicant-service-backend \nGroup=netdev\nRuntimeDirectory=wpa_supplicant\nRuntimeDirectoryMode=0750\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": true
    },
    "alsa-restore": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=ALSA Restore Container\nDocumentation=man:alsactl(1)\nConditionPathExists=!/etc/alsa/state-daemon.conf\nConditionPathExistsGlob=/dev/snd/control*\nAfter=alsa-state.service\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f alsa-restore-service-backend\nType=oneshot\nRemainAfterExit=true\nExecStart=/usr/bin/podman run -d --name alsa-restore-service-backend --privileged --volume /dev/snd:/dev/snd:rw --volume /var/lib/alsa:/var/lib/alsa:rw --volume /etc/alsa:/etc/alsa:rw --volume /usr/share/alsa/alsa.conf.d:/usr/share/alsa/alsa.conf.d:ro {{.ImageName}}\nExecStop=/usr/bin/podman stop alsa-restore-service-backend\nExecStopPost=/usr/bin/podman rm alsa-restore-service-backend\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": true
    },
    "upower": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=UPower Service (Containerized)\nDocumentation=man:podman(1)\nAfter=graphical.target dbus.socket\nRequires=dbus.socket\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f upower-service-backend\nType=dbus\nBusName=org.freedesktop.UPower\nRestart=always\nExecStart=/usr/bin/podman run --name upower-service-backend --privileged \\\n    --volume /run/dbus:/run/dbus:rw \\\n    --volume /var/lib/upower:/var/lib/upower:rw \\\n    --tmpfs /tmp:rw,size=65536k \\\n    {{.ImageName}}\nExecStop=/usr/bin/podman stop upower-service-backend \nExecStopPost=/usr/bin/podman rm upower-service-backend\n\n# Relax security settings\nProtectSystem=off\nProtectHome=off\nProtectKernelTunables=off\nProtectControlGroups=off\nPrivateTmp=false\nNoNewPrivileges=false\nSystemCallFilter=\n\n[Install]\nWantedBy=graphical.target",
      "privileged": true
    },
    "power-profiles-daemon": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=Power Profiles Daemon Backend New (Container)\nConflicts=tuned.service tlp.service auto-cpufreq.service system76-power.service\nBefore=multi-user.target display-manager.target\nAfter=network.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f power-profiles-daemon-service-backend\nType=dbus\nBusName=net.hadess.PowerProfiles\nEnvironment=DBUS_SYSTEM_BUS_ADDRESS=unix:path=/run/dbus/system_bus_socket\n\n# Run the container in the foreground\nExecStart=/usr/bin/podman run --name power-profiles-daemon-service-backend --privileged \\\n  --network=host \\\n  -v /sys:/sys \\\n  -v /proc:/proc \\\n  -v /dev:/dev \\\n  -v /run/dbus/system_bus_socket:/run/dbus/system_bus_socket \\\n  -v /run/udev:/run/udev \\\n  -v /var/lib/power-profiles-daemon:/var/lib/power-profiles-daemon \\\n  {{.ImageName}}\n\nExecStop=/usr/bin/podman stop power-profiles-daemon-service-backend\nExecStopPost=/usr/bin/podman rm -f power-profiles-daemon-service-backend\n\nRestart=on-failure\nStateDirectory=power-profiles-daemon\nStandardOutput=journal\nStandardError=journal\n\n[Install]\nWantedBy=graphical.target",
      "privileged": true
    },
    "udisks2": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=UDisks2 Backend Container\nDocumentation=man:udisks(8)\nAfter=network.target\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f udisks2-service-backend\nType=dbus\nBusName=org.freedesktop.UDisks2\nKillSignal=SIGINT\nExecStart=/usr/bin/podman run --name udisks2-service-backend --privileged --rm \\\n  --net=host \\\n  -v /dev:/dev \\\n  -v /run/udev:/run/udev:ro \\\n  -v /var/run/dbus/system_bus_socket:/var/run/dbus/system_bus_socket \\\n  {{.ImageName}}\nExecStop=/usr/bin/podman stop udisks2-service-backend\nExecStopPost=/usr/bin/podman rm udisks2-service-backend\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=graphical.target",
      "privileged": true
    },
    "fwupd": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=Firmware update daemon (Podman Container)\nDocumentation=https://fwupd.org/\nAfter=dbus.service\nBefore=display-manager.service\nConditionVirtualization=!container\n\n[Service]\nExecStartPre=-/usr/bin/podman rm -f fwupd-service-backend\nType=dbus\nBusName=org.freedesktop.fwupd\nTimeoutSec=180\nRuntimeDirectory=motd.d\nRuntimeDirectoryPreserve=yes\nExecStart=/usr/bin/podman run --detach --name fwupd-service-backend \\\n  --privileged \\\n  --network=host \\\n  -v /dev:/dev \\\n  -v /boot:/boot:ro \\\n  -v /boot/efi:/boot/efi:ro \\\n  -v /sys:/sys:rw \\\n  -v /run/dbus:/run/dbus \\\n  -v /var/lib/fwupd:/var/lib/fwupd \\\n  -e DBUS_SYSTEM_BUS_ADDRESS=unix:path=/run/dbus/system_bus_socket \\\n  {{.ImageName}} sh -c \"/usr/libexec/fwupd/fwupd --verbose; sleep infinity\"\nExecStop=/usr/bin/podman stop fwupd\nExecStopPost=/usr/bin/podman rm fwupd\nPrivateTmp=yes\nProtectHome=yes\nProtectSystem=full\nEnvironment=\"GLIBC_TUNABLES=glibc.cpu.hwcaps=SHSTK\"\nReadWritePaths=-/boot/efi -/efi/EFI -/boot/EFI -/boot/grub\nConfigurationDirectory=fwupd\nStateDirectory=fwupd\nCacheDirectory=fwupd\nRestrictAddressFamilies=AF_NETLINK AF_UNIX AF_INET AF_INET6\n\n[Install]\nWantedBy=multi-user.target",
      "dbus_name": "org.freedesktop.fwupd",
      "dbus_file": "[D-BUS Service]\nName=org.freedesktop.fwupd\nDocumentation=https://fwupd.org/\nExec=/usr/libexec/fwupd/fwupd\nUser=root\nSystemdService=fwupd-backend.service\nAssumedAppArmorLabel=unconfined",
      "privileged": true
    },
    "avahi-daemon": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=Avahi mDNS/DNS-SD Backend Container\nAfter=network-online.target\n\n[Service]\nType=simple\nRuntimeDirectory=avahi-daemon\nRuntimeDirectoryMode=0755\nKillSignal=SIGINT\nExecStartPre=-/usr/bin/podman rm -f avahi-daemon-backend-service\nExecStart=/usr/bin/podman run --name avahi-daemon-backend-service --privileged \\\n  --net=host \\\n  --volume /var/run/dbus:/var/run/dbus \\\n  --volume /run/avahi-daemon:/run/avahi-daemon \\\n  --cap-add=NET_ADMIN \\\n  --cap-add=NET_RAW \\\n  {{.ImageName}}\nExecStop=/usr/bin/podman stop avahi-daemon-backend-service\nExecStopPost=/usr/bin/podman rm avahi-daemon-backend-service\nRestart=always\nRestartSec=10\n\n[Install]\nWantedBy=multi-user.target",
      "privileged": true
    },
    "low-memory-monitor": {
      "enabled": true,
      "unit_file": "[Unit]\nDescription=Low Memory Monitor Container\nConditionPathExists=/proc/pressure\nAfter=sysinit.target\n\n[Service]\nType=simple\nExecStart=/usr/bin/podman run --name low-memory-monitor-service-backend \\\n  --privileged \\\n  --pid=host \\\n  --cgroupns=host \\\n  --ipc=host \\\n  --cap-add=ALL \\\n  --security-opt=seccomp=unconfined \\\n  --security-opt=apparmor=unconfined \\\n  -v /proc/pressure:/proc/pressure \\\n  -v /run/dbus/system_bus_socket:/run/dbus/system_bus_socket \\\n  -v /sys/fs/cgroup:/sys/fs/cgroup \\\n  -v /dev:/dev:ro \\\n  -v /etc/low-memory-monitor.conf:/etc/low-memory-monitor.conf:ro \\\n  -e G_MESSAGES_DEBUG=all \\\n  {{.ImageName}}\nExecStop=/usr/bin/podman stop low-memory-monitor-service-backend\nExecStopPost=/usr/bin/podman rm low-memory-monitor-service-backend\nRestart=on-failure\nEnvironment=\"G_MESSAGES_DEBUG=all\"\n\n# CPU Scheduling\nCPUSchedulingPolicy=fifo\nCPUSchedulingPriority=1\n\n[Install]\nWantedBy=basic.target",
      "privileged": true
    }
  }
}
